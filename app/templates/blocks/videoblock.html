{% load wagtailvideos_tags wagtailiconchooser_tags %}

<div class="flex flex-wrap sm:flex-nowrap gap-5 {% if not forloop.first and not forloop.last %} {% if forloop.counter|divisibleby:2 %}ml-5 sm:ml-10 md:ml-20{% else %}mr-5 sm:mr-10 md:mr-20{% endif %}{% endif %}">
    {% if self.video_position == 'left' %}
    <div class="h-auto min-h-20 basis-full sm:basis-1/4 flex items-center mx-auto">
        <video loop class="w-full h-fill border-2 rounded-2xl border-blue" autoplay loop="loop" muted>
            <source src="{{ self.video.url }}" type="video/mp4">
        </video>
    </div>
    {% endif %}
    <div class="flex gap-5 grow bg-blue bg-opacity-10 p-5 rounded-2xl justify-end">
        <div class="mt-auto">
            <h3 class="font-bold text-2xl sm:text-4xl text-right">{{ self.title }}</h3>
            <div class="mt-3.5 text-end text-2xl sm:text-4xl">{{ self.text }}</div>
        </div>
        <div class="flex flex-col gap-7">
            <div class="p-2 rounded-2xl border-2 border-blue pulse" style="color: #{{self.icon.icon_color}};">
                {% svg_icon name=self.icon.icon classname="w-11 h-11" %}
            </div>
            <div class="mt-auto p-2 rounded-2xl border-2 border-blue text-center text-4xl md:text-7xl animate-bounce">
                {{ forloop.counter }}
            </div>
        </div>
    </div>
    {% if self.video_position == 'right' %}
    <div class="h-auto min-h-20 basis-full sm:basis-1/4 flex items-center mx-auto">
        <video loop class="w-full h-fill border-2 rounded-2xl border-blue" autoplay loop="loop" muted>
            <source src="{{ self.video.url }}" type="video/mp4">
        </video>
    </div>
    {% endif %}
</div>
